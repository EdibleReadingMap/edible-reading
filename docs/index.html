<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Edible Reading Map</title>
    <style>
      html, body {
        height: 100%;
        margin: 0px;
        padding: 0px;
      }
      .balloon {
        position: relative;
      }
      .balloon #arrow {
        width: 0;
        height: 0;
        display: block;
        border-width: 15px 6px 0px 6px;
        border-color: azure transparent transparent transparent;
        border-style: solid;
        opacity: 0.95;
        position: absolute;
        left: 0px;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <div id="capture"></div>
    <script>
      var map;
      var src = 'http://edreadmap.com/edread.kml';

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: new google.maps.LatLng(51.4542, -0.9731),
          zoom: 2,
          mapTypeId: 'terrain'
        });

        var kmlLayer = new google.maps.KmlLayer(src, {
          suppressInfoWindows: true,
          preserveViewport: true,
          map: map
        });
//        var infobox = new InfoBox({
//          boxStyle: {
//            background: 'azure'
//           ,opacity: 0.90
//           ,'white-space': 'nowrap'
//           ,margin: '3px 3px 0px -10px'
//           ,padding: '3px 15px 3px 3px'
//           ,borderRadius: '5px'
//          }
//         ,closeBoxMargin: '1px -11px 3px 3px'
//         ,alignBottom: true
//         ,infoBoxClearance: new google.maps.Size(1, 1)
//        });
//        kmlLayer.addListener('click', function(event) {
//          var content = event.featureData.infoWindowHtml;
//          var contentjq = $(content);
//
//          infobox.close();
//          infobox.setOptions({
//            pixelOffset: kmlEvent.pixelOffset
//           ,position: kmlEvent.latLng
//           ,content: content
//          });
//
//          contentjq.addClass('balloon')
//                   .html(kmlEvent.featureData.infoWindowHtml + '<div id="arrow"></div>');
//          infobox.open(edread);
 //       });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCf8YCXDE_JE0rbmmM9BlN8O8nPzlDazfc"&callback=initMap">
    </script>
  </body>
</html>

<!--
lat: 51.411168 <-> 51.539263
long: -1.136984 <-> -0.7519424
midlat: 51.4752155, mindlong: -0.9444632
reading lat: 51.4542, long: -0.9731
-->
